{"componentChunkName":"component---src-pages-docs-mdx-slug-js","path":"/docs/api/core","result":{"data":{"mdx":{"slug":"api/core","frontmatter":{"title":"核心","description":"This doc describes core `jotai` bundle."},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"核心\",\n  \"description\": \"This doc describes core `jotai` bundle.\",\n  \"nav\": 2.01\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#%E5%9F%BA%E7%A1%80-ap-is\"\n  }, \"\\u57FA\\u7840 APIs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#%E9%A2%9D%E5%A4%96-ap-is\"\n  }, \"\\u989D\\u5916 APIs\"))), mdx(\"h2\", null, \"\\u57FA\\u7840 APIs\"), mdx(\"h2\", null, \"atom\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"atom\"), \" \\u529F\\u80FD\\u662F\\u521B\\u5EFA\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u3002\\n\\u6211\\u4EEC\\u79F0\\u5B83\\u4E3A\\u201C\\u539F\\u5B50\\u914D\\u7F6E\\u201D\\uFF0C\\u56E0\\u4E3A\\u5B83\\u53EA\\u662F\\u4E00\\u4E2A\\u5B9A\\u4E49\\uFF0C\\u8FD8\\u6CA1\\u6709\\u4EFB\\u4F55\\u503C\\u3002\\n\\u5982\\u679C\\u4E0A\\u4E0B\\u6587\\u6E05\\u695A\\uFF0C\\u6211\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u5C06\\u5176\\u79F0\\u4E3A\\u201C\\u539F\\u5B50\\u201D\\u3002\"), mdx(\"p\", null, \"\\u539F\\u5B50\\u914D\\u7F6E\\u662F\\u4E00\\u4E2A\\u4E0D\\u53EF\\u53D8\\u7684\\u5BF9\\u8C61\\u3002 \\u539F\\u5B50\\u914D\\u7F6E\\u5BF9\\u8C61\\u6CA1\\u6709\\u503C\\u3002 \\u539F\\u5B50\\u503C\\u5B58\\u5728\\u4E8E store \\u4E2D\\u3002\"), mdx(\"p\", null, \"\\u8981\\u521B\\u5EFA\\u539F\\u59CB\\u539F\\u5B50 (config)\\uFF0C\\u60A8\\u53EA\\u9700\\u63D0\\u4F9B\\u4E00\\u4E2A\\u521D\\u59CB\\u503C\\u5373\\u53EF\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"import { atom } from \\\"jotai\\\";\\n\\nconst priceAtom = atom(10);\\nconst messageAtom = atom(\\\"hello\\\");\\nconst productAtom = atom({ id: 12, name: \\\"good stuff\\\" });\\n\")), mdx(\"p\", null, \"\\u60A8\\u8FD8\\u53EF\\u4EE5\\u521B\\u5EFA\\u6D3E\\u751F\\u539F\\u5B50\\u3002 \\u6211\\u4EEC\\u6709\\u4E09\\u79CD\\u6A21\\u5F0F\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u53EA\\u8BFB atom\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u53EA\\u5199 atom\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8BFB\\u5199 atom\")), mdx(\"p\", null, \"\\u4E3A\\u4E86\\u521B\\u5EFA\\u6D3E\\u751F\\u539F\\u5B50\\uFF0C\\u6211\\u4EEC\\u4F20\\u9012\\u4E86\\u4E00\\u4E2A\\u8BFB\\u53D6\\u51FD\\u6570\\u548C\\u4E00\\u4E2A\\u53EF\\u9009\\u7684\\u5199\\u5165\\u51FD\\u6570\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const readOnlyAtom = atom((get) => get(priceAtom) * 2);\\nconst writeOnlyAtom = atom(\\n  null, // \\u4E3A\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u4F20\\u9012 `null` \\u662F\\u4E00\\u79CD\\u60EF\\u4F8B\\n  (get, set, update) => {\\n    // `update` \\u662F\\u6211\\u4EEC\\u6536\\u5230\\u7684\\u7528\\u4E8E\\u66F4\\u65B0\\u6B64\\u539F\\u5B50\\u7684\\u4EFB\\u4F55\\u5355\\u4E2A\\u503C\\n    set(priceAtom, get(priceAtom) - update.discount);\\n  }\\n);\\nconst readWriteAtom = atom(\\n  (get) => get(priceAtom) * 2,\\n  (get, set, newPrice) => {\\n    set(priceAtom, newPrice / 2);\\n    // \\u60A8\\u53EF\\u4EE5\\u540C\\u65F6\\u8BBE\\u7F6E\\u4EFB\\u610F\\u6570\\u91CF\\u7684\\u539F\\u5B50\\n  }\\n);\\n\")), mdx(\"p\", null, \"read \\u51FD\\u6570\\u4E2D\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get\"), \" \\u662F\\u8BFB\\u53D6\\u539F\\u5B50\\u503C\\u3002\\n\\u5B83\\u662F\\u54CD\\u5E94\\u5F0F\\u7684\\uFF0C\\u5E76\\u4E14\\u4F1A\\u8DDF\\u8E2A\\u8BFB\\u53D6\\u4F9D\\u8D56\\u9879\\u3002\"), mdx(\"p\", null, \"write \\u51FD\\u6570\\u4E2D\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get\"), \" \\u4E5F\\u662F\\u8BFB\\u53D6 atom \\u7684\\u503C\\uFF0C\\u4F46\\u662F\\u6CA1\\u6709\\u88AB\\u8DDF\\u8E2A\\u3002\\n\\u6B64\\u5916\\uFF0C\\u5B83\\u65E0\\u6CD5\\u8BFB\\u53D6 Jotai v1 API \\u4E2D\\u672A\\u89E3\\u6790\\u7684\\u5F02\\u6B65\\u503C\\u3002\\n\\u5BF9\\u4E8E\\u5F02\\u6B65\\u884C\\u4E3A\\uFF0C\\u8BF7\\u53C2\\u9605 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"../guides/async.mdx\"\n  }, \"async\"), \" \\u6587\\u6863\\u3002\"), mdx(\"p\", null, \"write \\u51FD\\u6570\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"set\"), \"\\u662F\\u5199\\u5165\\u539F\\u5B50\\u503C\\u3002\\n\\u5B83\\u5C06\\u8C03\\u7528\\u76EE\\u6807\\u539F\\u5B50\\u7684\\u5199\\u5165\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6CE8\\u610F\"), \"\\uFF1AAtom \\u914D\\u7F6E\\u53EF\\u4EE5\\u5728\\u4EFB\\u4F55\\u5730\\u65B9\\u521B\\u5EFA\\uFF0C\\u4F46\\u5F15\\u7528\\u76F8\\u7B49\\u5F88\\u91CD\\u8981\\u3002\\n\\u5B83\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u52A8\\u6001\\u521B\\u5EFA\\u3002\\n\\u8981\\u5728\\u6E32\\u67D3\\u51FD\\u6570\\u4E2D\\u521B\\u5EFA\\u539F\\u5B50\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \" \\u6216 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" \\u6765\\u83B7\\u5F97\\u7A33\\u5B9A\\u7684\\u5F15\\u7528\\u3002 \\u5982\\u679C\\u5BF9\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \" \\u6216 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" \\u8FDB\\u884C memoization \\u6709\\u7591\\u95EE\\uFF0C\\u8BF7\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \"\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const Component = ({ value }) => {\\n  const valueAtom = useMemo(() => atom({ value }), [value]);\\n  // ...\\n};\\n\")), mdx(\"h3\", null, \"\\u7B7E\\u540D\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"// \\u539F\\u59CB atom\\nfunction atom<Value>(initialValue: Value): PrimitiveAtom<Value>;\\n\\n// \\u53EA\\u8BFB atom\\nfunction atom<Value>(\\n  read: (get: Getter) => Value | Promise<Value>\\n): Atom<Value>;\\n\\n// \\u53EF\\u5199\\u6D3E\\u751F atom\\nfunction atom<Value, Update>(\\n  read: (get: Getter) => Value | Promise<Value>,\\n  write: (get: Getter, set: Setter, update: Update) => void | Promise<void>\\n): WritableAtom<Value, Update>;\\n\\n// \\u53EA\\u5199\\u6D3E\\u751F atom\\nfunction atom<Value, Update>(\\n  read: Value,\\n  write: (get: Getter, set: Setter, update: Update) => void | Promise<void>\\n): WritableAtom<Value, Update>;\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"initialValue\"), \"\\uFF1A\\u539F\\u5B50\\u5C06\\u8FD4\\u56DE\\u7684\\u521D\\u59CB\\u503C\\uFF0C\\u76F4\\u5230\\u5B83\\u7684\\u503C\\u88AB\\u6539\\u53D8\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \"\\uFF1A\\u5728\\u6BCF\\u6B21\\u91CD\\u65B0\\u6E32\\u67D3\\u65F6\\u8C03\\u7528\\u7684\\u51FD\\u6570\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \" \\u7684\\u7B7E\\u540D\\u662F \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"(get) => Value | Promise<Value>\"), \" \\u548C \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \" \\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u5E76\\u8FD4\\u56DE\\u5176\\u5B58\\u50A8\\u5728 Provider \\u4E2D\\u7684\\u503C\\uFF0C\\u5982\\u4E0B\\u6240\\u8FF0\\u3002 \\u8DDF\\u8E2A\\u4F9D\\u8D56\\u5173\\u7CFB\\uFF0C\\u56E0\\u6B64\\u5982\\u679C\\u5BF9\\u539F\\u5B50\\u81F3\\u5C11\\u4F7F\\u7528\\u4E00\\u6B21 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \" \\uFF0C\\u5219\\u6BCF\\u5F53\\u539F\\u5B50\\u503C\\u66F4\\u6539\\u65F6\\u90FD\\u4F1A\\u91CD\\u65B0\\u53D6\\u503C \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \" \\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \"\\uFF1A\\u4E3B\\u8981\\u7528\\u4E8E\\u6539\\u53D8\\u539F\\u5B50\\u503C\\u7684\\u51FD\\u6570\\uFF0C\\u4EE5\\u4FBF\\u66F4\\u597D\\u5730\\u63CF\\u8FF0\\uFF1B \\u6BCF\\u5F53\\u6211\\u4EEC\\u8C03\\u7528\\u8FD4\\u56DE\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom\"), \" \\u5BF9\\u7684\\u7B2C\\u4E8C\\u4E2A\\u503C\\uFF0C\\u5373 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom()[1]\"), \" \\u65F6\\uFF0C\\u5B83\\u5C31\\u4F1A\\u88AB\\u8C03\\u7528\\u3002 \\u539F\\u59CB\\u539F\\u5B50\\u4E2D\\u6B64\\u51FD\\u6570\\u7684\\u9ED8\\u8BA4\\u503C\\u5C06\\u66F4\\u6539\\u8BE5\\u539F\\u5B50\\u7684\\u503C\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \" \\u7684\\u7B7E\\u540D\\u662F \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"(get, set, update) => void | Promise<void>\"), \"\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \" \\u4E0E\\u4E0A\\u9762\\u63CF\\u8FF0\\u7684\\u7C7B\\u4F3C\\uFF0C\\u4F46\\u5B83\\u4E0D\\u8DDF\\u8E2A\\u4F9D\\u8D56\\u5173\\u7CFB\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"set\"), \" \\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u548C\\u4E00\\u4E2A\\u65B0\\u503C\\uFF0C\\u7136\\u540E\\u66F4\\u65B0 Provider \\u4E2D\\u7684\\u539F\\u5B50\\u503C\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"update\"), \" \\u662F\\u6211\\u4EEC\\u4ECE\\u4E0B\\u9762\\u63CF\\u8FF0\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom\"), \" \\u8FD4\\u56DE\\u7684\\u66F4\\u65B0\\u51FD\\u6570\\u4E2D\\u63A5\\u6536\\u5230\\u7684\\u4EFB\\u610F\\u503C\\u3002\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const primitiveAtom = atom(initialValue);\\nconst derivedAtomWithRead = atom(read);\\nconst derivedAtomWithReadWrite = atom(read, write);\\nconst derivedAtomWithWriteOnly = atom(null, write);\\n\")), mdx(\"p\", null, \"\\u6709\\u4E24\\u79CD\\u539F\\u5B50\\uFF1A\\u53EF\\u5199\\u539F\\u5B50\\u548C\\u53EA\\u8BFB\\u539F\\u5B50\\u3002 \\u539F\\u59CB\\u539F\\u5B50\\u603B\\u662F\\u53EF\\u5199\\u7684\\u3002 \\u5982\\u679C\\u6307\\u5B9A\\u4E86 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\uFF0C\\u6D3E\\u751F\\u539F\\u5B50\\u662F\\u53EF\\u5199\\u7684\\u3002 \\u539F\\u59CB\\u539F\\u5B50\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \" \\u76F8\\u5F53\\u4E8E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"React.useState\"), \" \\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setState\"), \" \\u3002\"), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"debugLabel\"), \" \\u5C5E\\u6027\"), mdx(\"p\", null, \"\\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u53EF\\u4EE5\\u6709\\u4E00\\u4E2A\\u53EF\\u9009\\u5C5E\\u6027 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"debugLabel\"), \"\\u3002 \\u8C03\\u8BD5\\u6807\\u7B7E\\u7528\\u4E8E\\u5728\\u8C03\\u8BD5\\u4E2D\\u663E\\u793A\\u539F\\u5B50\\u3002 \\u6709\\u5173\\u8BE6\\u7EC6\\u4FE1\\u606F\\uFF0C\\u8BF7\\u53C2\\u9605 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"../guides/debugging.mdx\"\n  }, \"\\u8C03\\u8BD5\\u6307\\u5357\"), \"\\u3002\"), mdx(\"p\", null, \"\\u6CE8\\u610F\\uFF1A\\u867D\\u7136\\u8C03\\u8BD5\\u6807\\u7B7E\\u4E0D\\u5FC5\\u662F\\u552F\\u4E00\\u7684\\uFF0C\\u4F46\\u901A\\u5E38\\u5EFA\\u8BAE\\u4F7F\\u5B83\\u4EEC\\u6613\\u4E8E\\u533A\\u5206\\u3002\"), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onMount\"), \" \\u5C5E\\u6027\"), mdx(\"p\", null, \"\\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u53EF\\u4EE5\\u6709\\u4E00\\u4E2A\\u53EF\\u9009\\u5C5E\\u6027 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \"\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \" \\u662F\\u4E00\\u4E2A\\u63A5\\u53D7\\u51FD\\u6570 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setAtom\"), \" \\u5E76\\u53EF\\u9009\\u5730\\u8FD4\\u56DE \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onUnmount\"), \" \\u51FD\\u6570\\u7684\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \" \\u51FD\\u6570\\u5728 atom \\u9996\\u6B21\\u5728\\u63D0\\u4F9B\\u8005\\u4E2D\\u4F7F\\u7528\\u65F6\\u88AB\\u8C03\\u7528\\uFF0C\\u800C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onUnmount\"), \" \\u5728\\u4E0D\\u518D\\u4F7F\\u7528\\u65F6\\u88AB\\u8C03\\u7528\\u3002 \\u5728\\u4E00\\u4E9B\\u8FB9\\u7F18\\u60C5\\u51B5\\u4E0B\\uFF0C\\u4E00\\u4E2A\\u539F\\u5B50\\u53EF\\u4EE5\\u88AB\\u5378\\u8F7D\\u7136\\u540E\\u7ACB\\u5373\\u5B89\\u88C5\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const anAtom = atom(1)\\nanAtom.onMount = (setAtom) => {\\n  console.log('atom is mounted in provider')\\n  setAtom(c => c + 1) // \\u589E\\u52A0\\u6302\\u8F7D\\u8BA1\\u6570\\n  return () => { ... } // \\u8FD4\\u56DE\\u53EF\\u9009\\u7684 onUnmount \\u51FD\\u6570\\n}\\n\")), mdx(\"p\", null, \"\\u8C03\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setAtom\"), \" \\u51FD\\u6570\\u5C06\\u8C03\\u7528\\u539F\\u5B50\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\u3002 \\u81EA\\u5B9A\\u4E49 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \" \\u5141\\u8BB8\\u6539\\u53D8\\u884C\\u4E3A\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const countAtom = atom(1);\\nconst derivedAtom = atom(\\n  (get) => get(countAtom),\\n  (get, set, action) => {\\n    if (action.type === \\\"init\\\") {\\n      set(countAtom, 10);\\n    } else if (action.type === \\\"inc\\\") {\\n      set(countAtom, (c) => c + 1);\\n    }\\n  }\\n);\\nderivedAtom.onMount = (setAtom) => {\\n  setAtom({ type: \\\"init\\\" });\\n};\\n\")), mdx(\"h2\", null, \"useAtom\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useAtom\"), \" hook \\u7528\\u4E8E\\u8BFB\\u53D6\\u72B6\\u6001\\u4E2D\\u7684\\u539F\\u5B50\\u503C\\u3002\\n\\u72B6\\u6001\\u53EF\\u4EE5\\u770B\\u4F5C\\u662F\\u539F\\u5B50\\u914D\\u7F6E\\u548C\\u539F\\u5B50\\u503C\\u7684 WeakMap\\u3002\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useAtom\"), \" hook \\u4EE5\\u5143\\u7EC4\\u5F62\\u5F0F\\u8FD4\\u56DE\\u539F\\u5B50\\u503C\\u548C\\u66F4\\u65B0\\u51FD\\u6570\\uFF0C\\n\\u5C31\\u50CF React \\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \" \\u4E00\\u6837\\u3002\\n\\u5B83\\u9700\\u8981\\u4E00\\u4E2A\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"atom()\"), \" \\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u3002\"), mdx(\"p\", null, \"\\u6700\\u521D\\uFF0C\\u6CA1\\u6709\\u4E0E\\u539F\\u5B50\\u5173\\u8054\\u7684\\u503C\\u3002\\n\\u53EA\\u6709\\u901A\\u8FC7 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useAtom\"), \" \\u4F7F\\u7528\\u539F\\u5B50\\u540E\\uFF0C\\u521D\\u59CB\\u503C\\u624D\\u4F1A\\u5B58\\u50A8\\u5728\\u72B6\\u6001\\u4E2D\\u3002\\n\\u5982\\u679C\\u539F\\u5B50\\u662F\\u6D3E\\u751F\\u539F\\u5B50\\uFF0C\\u5219\\u8C03\\u7528\\u8BFB\\u53D6\\u51FD\\u6570\\u6765\\u8BA1\\u7B97\\u521D\\u59CB\\u503C\\u3002\\n\\u5F53\\u4E00\\u4E2A\\u539F\\u5B50\\u4E0D\\u518D\\u88AB\\u4F7F\\u7528\\u65F6\\uFF0C\\u610F\\u5473\\u7740\\u6240\\u6709\\u4F7F\\u7528\\u5B83\\u7684\\u7EC4\\u4EF6\\u90FD\\u88AB\\u5378\\u8F7D\\uFF0C\\u5E76\\u4E14\\u539F\\u5B50\\u914D\\u7F6E\\u4E0D\\u518D\\u5B58\\u5728\\uFF0C\\u72B6\\u6001\\u4E2D\\u7684\\u503C\\u88AB\\u5783\\u573E\\u6536\\u96C6\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const [value, setValue] = useAtom(anAtom);\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setValue\"), \" \\u53EA\\u63A5\\u53D7\\u4E00\\u4E2A\\u53C2\\u6570\\uFF0C\\u5B83\\u5C06\\u88AB\\u4F20\\u9012\\u7ED9\\u539F\\u5B50\\u7684 write \\u51FD\\u6570\\u7684\\u7B2C\\u4E09\\u4E2A\\u53C2\\u6570\\u3002\\n\\u884C\\u4E3A\\u53D6\\u51B3\\u4E8E\\u5199\\u5165\\u51FD\\u6570\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6CE8\\u610F\"), \"\\uFF1A\\u5982 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"atom\"), \" \\u90E8\\u5206\\u6240\\u8FF0\\uFF0C\\u60A8\\u5FC5\\u987B\\u6CE8\\u610F\\u5904\\u7406\\u539F\\u5B50\\u7684\\u5F15\\u7528\\uFF0C\\u5426\\u5219\\u5B83\\u53EF\\u80FD\\u4F1A\\u8FDB\\u5165\\u65E0\\u9650\\u5FAA\\u73AF\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const stableAtom = atom(0);\\nconst Component = () => {\\n  const [atomValue] = useAtom(atom(0)); // \\u8FD9\\u5C06\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\\n  const [atomValue] = useAtom(stableAtom); // \\u8FD9\\u53EF\\u4EE5\\n  const [derivedAtomValue] = useAtom(\\n    useMemo(\\n      // \\u8FD9\\u4E5F\\u53EF\\u4EE5\\n      () => atom((get) => get(stableAtom) * 2),\\n      []\\n    )\\n  );\\n};\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6CE8\\u610F\"), \"\\uFF1A\\u8BF7\\u8BB0\\u4F4F\\uFF0CReact \\u8D1F\\u8D23\\u8C03\\u7528\\u60A8\\u7684\\u7EC4\\u4EF6\\u3002 \\u8FD9\\u610F\\u5473\\u7740\\u5B83\\u5FC5\\u987B\\u662F\\u5E42\\u7B49\\u7684\\uFF0C\\u53EF\\u4EE5\\u88AB\\u591A\\u6B21\\u8C03\\u7528\\u3002 \\u5373\\u4F7F\\u6CA1\\u6709 props \\u6216 atoms \\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u4F60\\u4E5F\\u4F1A\\u7ECF\\u5E38\\u770B\\u5230\\u989D\\u5916\\u7684\\u91CD\\u65B0\\u6E32\\u67D3\\u3002 \\u6CA1\\u6709\\u63D0\\u4EA4\\u7684\\u989D\\u5916\\u91CD\\u65B0\\u6E32\\u67D3\\u662F\\u9884\\u671F\\u7684\\u884C\\u4E3A\\u3002 \\u8FD9\\u5B9E\\u9645\\u4E0A\\u662F React 18 \\u4E2D useReducer \\u7684\\u9ED8\\u8BA4\\u884C\\u4E3A\\u3002\"), mdx(\"h3\", null, \"\\u7B7E\\u540D\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"// \\u539F\\u59CB\\u6216\\u53EF\\u5199\\u6D3E\\u751F\\u539F\\u5B50\\nfunction useAtom<Value, Update>(\\n  atom: WritableAtom<Value, Update>,\\n  scope?: Scope\\n): [Value, SetAtom<Update>];\\n\\n// \\u53EA\\u8BFB\\u539F\\u5B50\\nfunction useAtom<Value>(atom: Atom<Value>, scope?: Scope): [Value, never];\\n\")), mdx(\"p\", null, \"useAtom hook \\u662F\\u8BFB\\u53D6 Provider \\u4E2D\\u5B58\\u50A8\\u7684\\u4E00\\u4E2A\\u539F\\u5B50\\u503C\\u3002 \\u5B83\\u4EE5\\u5143\\u7EC4\\u7684\\u5F62\\u5F0F\\u8FD4\\u56DE\\u539F\\u5B50\\u503C\\u548C\\u66F4\\u65B0\\u51FD\\u6570\\uFF0C\\u5C31\\u50CF \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \" \\u4E00\\u6837\\u3002 \\u5B83\\u9700\\u8981\\u4E00\\u4E2A\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"atom()\"), \" \\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u3002 \\u6700\\u521D\\uFF0CProvider \\u4E2D\\u6CA1\\u6709\\u5B58\\u50A8\\u4EFB\\u4F55\\u503C\\u3002 \\u7B2C\\u4E00\\u6B21\\u901A\\u8FC7 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useAtom\"), \" \\u4F7F\\u7528 atom \\u65F6\\uFF0C\\u5B83\\u4F1A\\u5728 Provider \\u4E2D\\u6DFB\\u52A0\\u4E00\\u4E2A\\u521D\\u59CB\\u503C\\u3002 \\u5982\\u679C\\u539F\\u5B50\\u662F\\u6D3E\\u751F\\u539F\\u5B50\\uFF0C\\u5219\\u6267\\u884C\\u8BFB\\u53D6\\u51FD\\u6570\\u4EE5\\u8BA1\\u7B97\\u521D\\u59CB\\u503C\\u3002 \\u5F53\\u4E00\\u4E2A\\u539F\\u5B50\\u4E0D\\u518D\\u88AB\\u4F7F\\u7528\\u65F6\\uFF0C\\u610F\\u5473\\u7740\\u4F7F\\u7528\\u5B83\\u7684\\u6240\\u6709\\u7EC4\\u4EF6\\u90FD\\u88AB\\u5378\\u8F7D\\uFF0C\\u5E76\\u4E14\\u539F\\u5B50\\u914D\\u7F6E\\u4E0D\\u518D\\u5B58\\u5728\\uFF0C\\u8BE5\\u503C\\u5C06\\u4ECE Provider \\u4E2D\\u5220\\u9664\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const [value, setValue] = useAtom(anAtom);\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setValue\"), \" \\u63A5\\u53D7\\u4E00\\u4E2A\\u53C2\\u6570\\uFF0C\\u8BE5\\u53C2\\u6570\\u5C06\\u4F20\\u9012\\u7ED9\\u539F\\u5B50\\u7684 writeFunction \\u7684\\u7B2C\\u4E09\\u4E2A\\u53C2\\u6570\\u3002 \\u884C\\u4E3A\\u53D6\\u51B3\\u4E8E writeFunction \\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3002\"), mdx(\"hr\", null), mdx(\"h2\", null, \"\\u7B14\\u8BB0\"), mdx(\"h3\", null, \"\\u539F\\u5B50\\u4F9D\\u8D56\\u6027\\u5982\\u4F55\\u5DE5\\u4F5C\"), mdx(\"p\", null, \"\\u9996\\u5148\\uFF0C\\u8BA9\\u6211\\u4EEC\\u89E3\\u91CA\\u4E00\\u4E0B\\u3002 \\u5728\\u5F53\\u524D\\u7684\\u5B9E\\u73B0\\u4E2D\\uFF0C\\u6BCF\\u6B21\\u8C03\\u7528 \\\"read\\\" \\u51FD\\u6570\\u65F6\\uFF0C\\u6211\\u4EEC\\u90FD\\u4F1A\\u5237\\u65B0\\u4F9D\\u8D56\\u9879\\u548C\\u4ECE\\u5C5E\\u9879\\u3002 \\u4F8B\\u5982\\uFF0C\\u5982\\u679C A \\u4F9D\\u8D56\\u4E8E B\\uFF0C\\u5219\\u610F\\u5473\\u7740 B \\u662F A \\u7684\\u4F9D\\u8D56\\u9879\\uFF0CA \\u662F B \\u7684\\u4F9D\\u8D56\\u9879\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const uppercaseAtom = atom((get) => get(textAtom).toUpperCase());\\n\")), mdx(\"p\", null, \"\\u8BFB\\u53D6\\u51FD\\u6570\\u662F\\u539F\\u5B50\\u7684\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u3002\\n\\u4F9D\\u8D56\\u6700\\u521D\\u662F\\u7A7A\\u7684\\u3002 \\u7B2C\\u4E00\\u6B21\\u4F7F\\u7528\\u65F6\\uFF0C\\u6211\\u4EEC\\u8FD0\\u884C\\u8BFB\\u53D6\\u51FD\\u6570\\u5E76\\u77E5\\u9053 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uppercaseAtom\"), \" \\u4F9D\\u8D56\\u4E8E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"textAtom\"), \"\\u3002 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"textAtom\"), \" \\u4F9D\\u8D56\\u4E8E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uppercaseAtom\"), \"\\u3002 \\u56E0\\u6B64\\uFF0C\\u5C06 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uppercaseAtom\"), \" \\u6DFB\\u52A0\\u5230 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"textAtom\"), \" \\u7684\\u4F9D\\u8D56\\u9879\\u4E2D\\u3002\\n\\u5F53\\u6211\\u4EEC\\u91CD\\u65B0\\u8FD0\\u884C\\u8BFB\\u53D6\\u51FD\\u6570\\u65F6\\uFF08\\u56E0\\u4E3A\\u5B83\\u7684\\u4F9D\\u8D56\\u9879 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"textAtom\"), \" \\u5DF2\\u66F4\\u65B0\\uFF09\\uFF0C\\u4F9D\\u8D56\\u9879\\u4F1A\\u518D\\u6B21\\u521B\\u5EFA\\uFF0C\\u5728\\u672C\\u4F8B\\u4E2D\\u4E5F\\u662F\\u5982\\u6B64\\u3002 \\u7136\\u540E\\u6211\\u4EEC\\u5220\\u9664\\u9648\\u65E7\\u7684\\u4F9D\\u8D56\\u9879\\u5E76\\u66FF\\u6362\\u4E3A\\u6700\\u65B0\\u7684\\u4F9D\\u8D56\\u9879\\u3002\"), mdx(\"h3\", null, \"\\u539F\\u5B50\\u53EF\\u4EE5\\u6309\\u9700\\u521B\\u5EFA\"), mdx(\"p\", null, \"\\u867D\\u7136\\u8FD9\\u91CC\\u7684\\u57FA\\u672C\\u793A\\u4F8B\\u663E\\u793A\\u4E86\\u5728\\u7EC4\\u4EF6\\u5916\\u90E8\\u5168\\u5C40\\u5B9A\\u4E49\\u539F\\u5B50\\uFF0C\\u4F46\\u5BF9\\u4E8E\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u4F55\\u5904\\u6216\\u4F55\\u65F6\\u521B\\u5EFA\\u539F\\u5B50\\u6CA1\\u6709\\u4EFB\\u4F55\\u9650\\u5236\\u3002\\n\\u53EA\\u8981\\u6211\\u4EEC\\u8BB0\\u5F97\\u539F\\u5B50\\u662F\\u7531\\u5B83\\u4EEC\\u7684\\u5BF9\\u8C61\\u5F15\\u7528\\u8EAB\\u4EFD\\u6807\\u8BC6\\u7684\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u968F\\u65F6\\u521B\\u5EFA\\u5B83\\u4EEC\\u3002\"), mdx(\"p\", null, \"\\u5982\\u679C\\u60A8\\u5728\\u6E32\\u67D3\\u51FD\\u6570\\u4E2D\\u521B\\u5EFA\\u539F\\u5B50\\uFF0C\\u60A8\\u901A\\u5E38\\u5E0C\\u671B\\u4F7F\\u7528\\u50CF \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useRef\"), \" \\u6216 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \" \\u8FD9\\u6837\\u7684 hook \\u6765\\u8FDB\\u884C memoization\\u3002 \\u5426\\u5219\\uFF0C\\u6BCF\\u6B21\\u7EC4\\u4EF6\\u6E32\\u67D3\\u65F6\\u90FD\\u4F1A\\u91CD\\u65B0\\u521B\\u5EFA\\u539F\\u5B50\\u3002\"), mdx(\"p\", null, \"\\u60A8\\u53EF\\u4EE5\\u521B\\u5EFA\\u4E00\\u4E2A\\u539F\\u5B50\\u5E76\\u5C06\\u5176\\u5B58\\u50A8\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \" \\u4E2D\\uFF0C\\u751A\\u81F3\\u53EF\\u4EE5\\u5B58\\u50A8\\u5728\\u53E6\\u4E00\\u4E2A\\u539F\\u5B50\\u4E2D\\u3002\\n\\u8BF7\\u53C2\\u9605\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pmndrs/jotai/issues/5\"\n  }, \"\\u95EE\\u9898 #5\"), \" \\u4E2D\\u7684\\u793A\\u4F8B\\u3002\"), mdx(\"p\", null, \"\\u60A8\\u53EF\\u4EE5\\u5728\\u5168\\u5C40\\u67D0\\u5904\\u7F13\\u5B58\\u539F\\u5B50\\u3002\\n\\u8BF7\\u53C2\\u9605\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twitter.com/dai_shi/status/1317653548314718208\"\n  }, \"\\u6B64\\u793A\\u4F8B\"), \" \\u6216\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pmndrs/jotai/issues/119#issuecomment-706046321\"\n  }, \"\\u90A3\\u4E2A\\u4F8B\\u5B50\"), \"\\u3002\"), mdx(\"p\", null, \"\\u68C0\\u67E5\\u53C2\\u6570\\u5316\\u539F\\u5B50\\u7684 utils \\u4E2D\\u7684 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"../api/utils.mdx#atom-family\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"atomFamily\")), \"\\u3002\"), mdx(\"h2\", null, \"\\u989D\\u5916 APIs\"), mdx(\"h2\", null, \"Provider\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Provider\"), \" \\u7EC4\\u4EF6\\u662F\\u4E3A\\u7EC4\\u4EF6\\u5B50\\u6811\\u63D0\\u4F9B\\u72B6\\u6001\\u3002\\n\\u591A\\u4E2A Provider \\u53EF\\u4EE5\\u7528\\u4E8E\\u591A\\u4E2A\\u5B50\\u6811\\uFF0C\\u751A\\u81F3\\u53EF\\u4EE5\\u5D4C\\u5957\\u3002\\n\\u8FD9\\u5C31\\u50CF React \\u4E0A\\u4E0B\\u6587\\u4E00\\u6837\\u5DE5\\u4F5C\\u3002\"), mdx(\"p\", null, \"\\u5982\\u679C\\u5728\\u6CA1\\u6709 Provider \\u7684\\u6811\\u4E2D\\u4F7F\\u7528\\u539F\\u5B50\\uFF0C\\u5B83\\u5C06\\u4F7F\\u7528\\u9ED8\\u8BA4\\u72B6\\u6001\\u3002 \\u8FD9\\u5C31\\u662F\\u6240\\u8C13\\u7684\\u65E0\\u63D0\\u4F9B\\u8005\\u6A21\\u5F0F\\u3002\"), mdx(\"p\", null, \"Provider \\u4E4B\\u6240\\u4EE5\\u6709\\u7528\\uFF0C\\u6709\\u4EE5\\u4E0B\\u4E09\\u4E2A\\u539F\\u56E0\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u4E3A\\u6BCF\\u4E2A\\u5B50\\u6811\\u63D0\\u4F9B\\u4E0D\\u540C\\u7684\\u72B6\\u6001\\u3002\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u63A5\\u53D7\\u539F\\u5B50\\u7684\\u521D\\u59CB\\u503C\\u3002\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u901A\\u8FC7\\u91CD\\u65B0\\u5B89\\u88C5\\u6E05\\u9664\\u6240\\u6709\\u539F\\u5B50\\u3002\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const SubTree = () => (\\n  <Provider>\\n    <Child />\\n  </Provider>\\n);\\n\")), mdx(\"h3\", null, \"\\u7B7E\\u540D\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"const Provider: React.FC<{\\n  initialValues?: Iterable<readonly [AnyAtom, unknown]>;\\n  scope?: Scope;\\n}>;\\n\")), mdx(\"p\", null, \"Atom \\u914D\\u7F6E\\u4E0D\\u4FDD\\u5B58\\u503C\\u3002 \\u539F\\u5B50\\u503C\\u9A7B\\u7559\\u5728\\u5355\\u72EC\\u7684\\u5B58\\u50A8\\u4E2D\\u3002 Provider \\u662F\\u4E00\\u4E2A\\u7EC4\\u4EF6\\uFF0C\\u5B83\\u5305\\u542B\\u4E00\\u4E2A\\u5B58\\u50A8\\u5E76\\u5728\\u7EC4\\u4EF6\\u6811\\u4E0B\\u63D0\\u4F9B\\u539F\\u5B50\\u503C\\u3002 Provider \\u7684\\u5DE5\\u4F5C\\u65B9\\u5F0F\\u7C7B\\u4F3C\\u4E8E React context provider\\u3002 \\u5982\\u679C\\u60A8\\u4E0D\\u4F7F\\u7528\\u63D0 Provider\\uFF0C\\u5B83\\u4F1A\\u4EE5\\u65E0 Provider \\u6A21\\u5F0F\\u4F7F\\u7528\\u9ED8\\u8BA4 store \\u3002 \\u5982\\u679C\\u6211\\u4EEC\\u9700\\u8981\\u4E3A\\u4E0D\\u540C\\u7684\\u7EC4\\u4EF6\\u6811\\u4FDD\\u5B58\\u4E0D\\u540C\\u7684\\u539F\\u5B50\\u503C\\uFF0C\\u5219\\u9700\\u8981\\u63D0\\u4F9B\\u8005\\u3002 Provider \\u8FD8\\u5177\\u6709\\u4E0B\\u9762\\u63CF\\u8FF0\\u7684\\u4E00\\u4E9B\\u529F\\u80FD\\uFF0C\\u8FD9\\u4E9B\\u529F\\u80FD\\u5728 \\u65E0 Provider \\u6A21\\u5F0F\\u4E0B\\u4E0D\\u5B58\\u5728\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const Root = () => (\\n  <Provider>\\n    <App />\\n  </Provider>\\n);\\n\")), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"initialValues\"), \" \\u5C5E\\u6027\"), mdx(\"p\", null, \"Provider \\u63A5\\u53D7\\u4E00\\u4E2A\\u53EF\\u9009\\u7684 prop \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"initialValues\"), \"\\uFF0C\\u60A8\\u53EF\\u4EE5\\u4F7F\\u7528\\u5B83\\u6307\\u5B9A\\u4E00\\u4E9B\\u521D\\u59CB\\u539F\\u5B50\\u503C\\u3002\\n\\u5176\\u7528\\u4F8B\\u662F\\u6D4B\\u8BD5\\u548C\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\u3002\"), mdx(\"h4\", null, \"\\u793A\\u4F8B\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const TestRoot = () => (\\n  <Provider\\n    initialValues={[\\n      [atom1, 1],\\n      [atom2, \\\"b\\\"],\\n    ]}\\n  >\\n    <Component />\\n  </Provider>\\n);\\n\")), mdx(\"h4\", null, \"TypeScript\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"initialValues\"), \" \\u5C5E\\u6027\\u4E0D\\u662F\\u7C7B\\u578B\\u53CB\\u597D\\u7684\\u3002\\n\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F7F\\u7528\\u8F85\\u52A9\\u51FD\\u6570\\u6765\\u7F13\\u89E3\\u5B83\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"const createInitialValues = () => {\\n  const initialValues: (readonly [Atom<unknown>, unknown])[] = [];\\n  const get = () => initialValues;\\n  const set = <Value>(anAtom: Atom<Value>, value: Value) => {\\n    initialValues.push([anAtom, value]);\\n  };\\n  return { get, set };\\n};\\n\")), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"scope\"), \" \\u5C5E\\u6027\"), mdx(\"p\", null, \"Provider \\u63A5\\u53D7\\u4E00\\u4E2A\\u53EF\\u9009\\u7684 prop \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"scope\"), \"\\uFF0C\\u60A8\\u53EF\\u4EE5\\u5C06\\u5176\\u7528\\u4E8E\\u8303\\u56F4\\u5185\\u7684 Provider\\u3002\\n\\u5F53\\u4F7F\\u7528\\u5177\\u6709 scope \\u7684\\u539F\\u5B50\\u65F6\\uFF0C\\u4F7F\\u7528\\u5177\\u6709\\u76F8\\u540C\\u4F5C\\u7528\\u57DF\\u7684 Provider\\u3002\\nscope \\u503C\\u7684\\u5EFA\\u8BAE\\u662F\\u4E00\\u4E2A\\u72EC\\u7279\\u7684\\u7B26\\u53F7\\u3002\\nscope \\u7684\\u4E3B\\u8981\\u4F7F\\u7528\\u5728\\u5E93\\u4E2D\\u3002\"), mdx(\"h4\", null, \"\\u793A\\u4F8B\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const myScope = Symbol();\\n\\nconst anAtom = atom(\\\"\\\");\\n\\nconst LibraryComponent = () => {\\n  const [value, setValue] = useAtom(anAtom, myScope);\\n  // ...\\n};\\n\\nconst LibraryRoot = ({ children }) => (\\n  <Provider scope={myScope}>{children}</Provider>\\n);\\n\")), mdx(\"h2\", null, \"useSetAtom\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const switchAtom = atom(false);\\n\\nconst SetTrueButton = () => {\\n  const setCount = useSetAtom(switchAtom);\\n  const setTrue = () => setCount(true);\\n\\n  return (\\n    <div>\\n      <button onClick={setTrue}>Set True</button>\\n    </div>\\n  );\\n};\\n\\nconst SetFalseButton = () => {\\n  const setCount = useSetAtom(switchAtom);\\n  const setFalse = () => setCount(false);\\n\\n  return (\\n    <div>\\n      <button onClick={setFalse}>Set False</button>\\n    </div>\\n  );\\n};\\n\\nexport default function App() {\\n  const state = useAtomValue(switchAtom);\\n\\n  return (\\n    <div>\\n      State: <b>{state.toString()}</b>\\n      <SetTrueButton />\\n      <SetFalseButton />\\n    </div>\\n  );\\n}\\n\")), mdx(\"p\", null, \"\\u5982\\u679C\\u4F60\\u9700\\u8981\\u5728\\u4E0D\\u8BFB\\u53D6\\u539F\\u5B50\\u7684\\u60C5\\u51B5\\u4E0B\\u66F4\\u65B0\\u5B83\\u7684\\u503C\\uFF0C\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useSetAtom()\"), \" \\u3002\"), mdx(\"p\", null, \"\\u5F53\\u6027\\u80FD\\u662F\\u4E00\\u4E2A\\u95EE\\u9898\\u65F6\\uFF0C\\u8FD9\\u7279\\u522B\\u6709\\u7528\\uFF0C\\u56E0\\u4E3A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"const [, setValue] = useAtom(valueAtom)\"), \" \\u4F1A\\u5728\\u6BCF\\u6B21 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"valueAtom\"), \" \\u66F4\\u65B0\\u65F6\\u5BFC\\u81F4\\u4E0D\\u5FC5\\u8981\\u7684\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"), mdx(\"h2\", null, \"useAtomValue\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const countAtom = atom(0);\\n\\nconst Counter = () => {\\n  const setCount = useSetAtom(countAtom);\\n  const count = useAtomValue(countAtom);\\n\\n  return (\\n    <>\\n      <div>count: {count}</div>\\n      <button onClick={() => setCount(count + 1)}>+1</button>\\n    </>\\n  );\\n};\\n\")), mdx(\"p\", null, \"\\u4E0E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useSetAtom\"), \" hook \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\u7C7B\\u4F3C\\uFF0CuseAtomValue\"), \" \\u5141\\u8BB8\\u60A8\\u8BBF\\u95EE\\u53EA\\u8BFB\\u539F\\u5B50\\u3002\"), mdx(\"h3\", null, \"\\u5173\\u4E8E\\u539F\\u5B50\\u7684\\u66F4\\u591A\\u6CE8\\u91CA\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5982\\u679C\\u60A8\\u521B\\u5EFA\\u4E00\\u4E2A\\u539F\\u59CB\\u539F\\u5B50\\uFF0C\\u5B83\\u5C06\\u4F7F\\u7528\\u9884\\u5B9A\\u4E49\\u7684 \\u8BFB/\\u5199 \\u51FD\\u6570\\u6765\\u6A21\\u62DF \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useState\"), \" \\u884C\\u4E3A\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5982\\u679C\\u4F60\\u521B\\u5EFA\\u4E00\\u4E2A\\u5177\\u6709 \\u8BFB/\\u5199 \\u529F\\u80FD\\u7684\\u539F\\u5B50\\uFF0C\\u5B83\\u4EEC\\u53EF\\u4EE5\\u63D0\\u4F9B\\u4EFB\\u4F55\\u884C\\u4E3A\\uFF0C\\u4F46\\u6709\\u4E00\\u4E9B\\u9650\\u5236\\uFF0C\\u5982\\u4E0B\\u6240\\u793A\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \" \\u51FD\\u6570\\u5C06\\u5728 React \\u6E32\\u67D3\\u9636\\u6BB5\\u8C03\\u7528\\uFF0C\\u56E0\\u6B64\\u8BE5\\u51FD\\u6570\\u5FC5\\u987B\\u662F\\u7EAF\\u51FD\\u6570\\u3002 \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://gist.github.com/sebmarkbage/75f0838967cd003cd7f9ab938eb1958f\"\n  }, \"\\u6B64\\u5904\"), \" \\u63CF\\u8FF0\\u4E86 React \\u4E2D\\u7684\\u7EAF\\u5185\\u5BB9\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \" \\u51FD\\u6570\\u5C06\\u5728\\u60A8\\u6700\\u521D\\u8C03\\u7528\\u7684\\u5730\\u65B9\\u8C03\\u7528\\uFF0C\\u5E76\\u5728 useEffect \\u4E2D\\u8C03\\u7528\\u4EE5\\u8FDB\\u884C\\u540E\\u7EED\\u8C03\\u7528\\u3002 \\u6240\\u4EE5\\uFF0C\\u4F60\\u4E0D\\u5E94\\u8BE5\\u5728\\u6E32\\u67D3\\u4E2D\\u8C03\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \"\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5F53\\u4E00\\u4E2A\\u539F\\u5B50\\u6700\\u521D\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom\"), \" \\u65F6\\uFF0C\\u5B83\\u4F1A\\u8C03\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \" \\u51FD\\u6570\\u6765\\u83B7\\u53D6\\u521D\\u59CB\\u503C\\uFF0C\\u8FD9\\u662F\\u9012\\u5F52\\u8FC7\\u7A0B\\u3002 \\u5982\\u679C Provider \\u4E2D\\u5B58\\u5728\\u539F\\u5B50\\u503C\\uFF0C\\u5B83\\u5C06\\u88AB\\u4F7F\\u7528\\u800C\\u4E0D\\u662F\\u8C03\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \" \\u51FD\\u6570\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4E00\\u65E6\\u4F7F\\u7528\\u4E86\\u4E00\\u4E2A\\u539F\\u5B50\\uFF08\\u5E76\\u5B58\\u50A8\\u5728 Provider \\u4E2D\\uFF09\\uFF0C\\u5B83\\u7684\\u503C\\u53EA\\u6709\\u5728\\u66F4\\u65B0\\u5176\\u4F9D\\u8D56\\u9879\\u65F6\\u624D\\u4F1A\\u66F4\\u65B0\\uFF08\\u5305\\u62EC\\u76F4\\u63A5\\u4F7F\\u7528 useAtom \\u66F4\\u65B0\\uFF09\\u3002\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"491a21e1-a9e7-597e-9aac-7a5122b5803d","slug":"api/core","__params":{"slug":"api"}}},"staticQueryHashes":["171421096","4167841181","930225796"]}